{"remainingRequest":"G:\\PartTime\\App\\node_modules\\babel-loader\\lib\\index.js!G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\PartTime\\App\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\PartTime\\App\\src\\views\\Login.vue","mtime":1587807914943},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVG9hc3QgfSBmcm9tICd2YW50JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwaG9uZTogJycsCiAgICAgIHVwd2Q6ICcnLAogICAgICBpc2xvZ2luOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHBob25lID0gdGhpcy5waG9uZTsKICAgICAgdmFyIHB3ZCA9IHRoaXMudXB3ZDsKICAgICAgdmFyIHBob25lcmVnID0gL14xWzMtOV1cZHs5fSQvOwogICAgICB2YXIgdXB3ZHJlZyA9IC9eKD8hWzAtOV0rJCkoPyFbYS16QS1aXSskKVswLTlBLVphLXpdezYsMjB9JC87CgogICAgICBpZiAoIXBob25lcmVnLnRlc3QocGhvbmUpKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuaJi+acuuWPt+eggeagvOW8j+S4jeato+ehriIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDlr4bnoIHmj5DnpLoKCgogICAgICBpZiAoIXVwd2RyZWcudGVzdChwd2QpKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoIuWvhueggeagvOW8j+S4jeato+ehrizlv4XpobvljIXlkKvmlbDlrZflkozoi7HmlociKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB1cmwgPSAidXNlci9sb2dpbiI7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgcGhvbmU6IHBob25lLAogICAgICAgIHB3ZDogcHdkCiAgICAgIH07CiAgICAgIHRoaXMuYXhpb3MuZ2V0KHVybCwgewogICAgICAgIHBhcmFtczogb2JqCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBjb2RlID0gcmVzLmRhdGEuY29kZTsKCiAgICAgICAgaWYgKGNvZGUgPT0gLTEpIHsKICAgICAgICAgIFRvYXN0LmZhaWwoJ+i0puWPt+aIluWvhueggeS4jeato+ehricpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbG9naW4nLCByZXMuZGF0YS5jb2RlKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpbGQnLCByZXMuZGF0YS5pbGQpOwogICAgICAgICAgdmFyIGlzbG9naW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbG9naW4nKTsKCiAgICAgICAgICBpZiAoaXNsb2dpbikgewogICAgICAgICAgICBfdGhpcy5pc2xvZ2luID0gMTsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuaXNsb2dpbik7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9wZXJzb24iKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgVG9hc3Quc3VjY2Vzcygn55m75b2V5oiQ5YqfJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkge30KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,SAAA,KAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;AACA,UAAA,GAAA,GAAA,KAAA,IAAA;AACA,UAAA,QAAA,GAAA,eAAA;AACA,UAAA,OAAA,GAAA,8CAAA;;AACA,UAAA,CAAA,QAAA,CAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,WAAA;AACA;AACA,OARA,CASA;;;AACA,UAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,CAAA,EAAA;AACA,aAAA,MAAA,CAAA,mBAAA;AACA;AACA;;AACA,UAAA,GAAA,GAAA,YAAA;AACA,UAAA,GAAA,GAAA;AAAA,QAAA,KAAA,EAAA,KAAA;AAAA,QAAA,GAAA,EAAA;AAAA,OAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;;AACA,YAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,IAAA,CAAA,UAAA;AACA,SAFA,MAEA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,KAAA,EAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AACA,cAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA;;AACA,cAAA,OAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,CAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,OAAA;AACA;;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA,UAAA,KAAA,CAAA,OAAA,CAAA,MAAA;AACA;AACA,OAlBA;AAmBA;AApCA,GARA;AA8CA,EAAA,OA9CA,qBA8CA,CAEA,CAhDA;AAiDA,EAAA,OAjDA,qBAiDA,CAEA;AAnDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div style=\"text-align: left;\">\r\n      <a href=\"javascript:history.go(-1);\">\r\n        <van-icon name=\"arrow-left\" class=\"next\"/>\r\n      </a>\r\n    </div>\r\n    <div class=\"login-title\">\r\n      <p>用户登录</p>\r\n    </div>\r\n    <div class=\"login-box\">\r\n      <div class=\"phone\">\r\n        <input class=\"phone-input\" v-model=\"phone\" placeholder=\"请输入手机号\">\r\n      </div>\r\n      <div class=\"upwd\">\r\n        <input class=\"upwd-input\" v-model=\"upwd\" type=\"password\" placeholder=\"请输入6-20位密码\">\r\n      </div>\r\n      <div class=\"bottom\">\r\n        <router-link class=\"register\" to=\"/register\">立即注册</router-link>\r\n      </div>\r\n      <van-button color=\"linear-gradient(to right, rgb(255, 200, 75), rgb(246, 73, 153))\" size=\"large\" @click=\"login\">登录</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  data() {\r\n    return {\r\n      phone:'',\r\n      upwd:'',\r\n      islogin:0,\r\n    }\r\n  },\r\n  methods: {\r\n    login(){\r\n      var phone=this.phone;\r\n      var pwd=this.upwd;\r\n      var phonereg = /^1[3-9]\\d{9}$/;\r\n      var upwdreg = /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}$/;\r\n      if(!phonereg.test(phone)){\r\n          this.$toast(\"手机号码格式不正确\");\r\n          return;\r\n       }\r\n       // 密码提示\r\n       if(!upwdreg.test(pwd)){\r\n         this.$toast(\"密码格式不正确,必须包含数字和英文\");\r\n         return;\r\n       }\r\n      var url=\"user/login\";\r\n      var obj={phone:phone,pwd:pwd};\r\n      this.axios.get(url,{params:obj}).then(res=>{\r\n        var code=res.data.code;\r\n        if (code==-1) {\r\n          Toast.fail('账号或密码不正确');\r\n        } else {\r\n          localStorage.setItem('login',res.data.code);\r\n          localStorage.setItem('ild',res.data.ild)\r\n          var islogin=localStorage.getItem('login');\r\n          if(islogin){\r\n            this.islogin=1;\r\n            console.log(this.islogin);\r\n          }\r\n          console.log(res)\r\n          setTimeout(() => {\r\n              this.$router.push(`/person`)\r\n          }, 1000);\r\n          Toast.success('登录成功');\r\n        }\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    \r\n  },\r\n  updated() {\r\n    \r\n  },\r\n}\r\n</script>\r\n<style>\r\n.login-title{\r\n  margin-top: 100px;\r\n}\r\n.login-title p{\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: orange;\r\n}\r\n.login-box{\r\n  margin-top: 50px;\r\n}\r\n.phone,.upwd{\r\n  border-bottom: 1px solid #eee;\r\n  margin-bottom: 15px;\r\n}\r\n.phone-input,.upwd-input{\r\n  width: 100%;\r\n  height: 45px;\r\n  padding: 0 10px;\r\n  border: unset;\r\n}\r\n.bottom{\r\n  margin: 0 10px 45px 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.register{\r\n  color: #757575;\r\n}\r\n.next{\r\n  width: 2.5rem;\r\n  text-align: left;\r\n  color:orange;\r\n  position: absolute;\r\n  top:1.2rem;\r\n  left: 1rem;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}