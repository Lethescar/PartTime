{"remainingRequest":"G:\\PartTime\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\PartTime\\app\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\PartTime\\app\\src\\views\\Home.vue","mtime":1585187084515},{"path":"G:\\PartTime\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\PartTime\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCTWFwIGZyb20gJ0JNYXAnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICB2YWx1ZTogJycsCiAgICAgIGFjdGl2ZTogJycsCiAgICAgIExvY2F0aW9uQ2l0eToi5q2j5Zyo5a6a5L2NIiwgICAgLy/nu5nmuLLmn5PlsYLlrprkuYnkuIDkuKrliJ3lp4vlgLwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgcG9zbGlzdDogW10sCiAgICAgIGluZm9sYWJlbDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHJlZnJlc2hpbmc6IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLmNpdHkoKSAgICAvL+inpuWPkeiOt+WPluWfjuW4guaWueazlQogICAgdGhpcy5nZXRTd2lwZXIoKQogICAgdGhpcy5nZXRwb3NsaXN0KCkKICAgIHRoaXMuZ2V0aW5mb2xhYmVsKCkKICB9LAogIG1ldGhvZHM6ewogICAgY2l0eSgpeyAgICAvL+WumuS5ieiOt+WPluWfjuW4guaWueazlQogICAgICBjb25zdCBnZW9sb2NhdGlvbiA9IG5ldyBCTWFwLkdlb2xvY2F0aW9uKCk7CiAgICAgIHZhciBfdGhpcyA9IHRoaXMKICAgICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uIGdldGluZm8ocG9zaXRpb24pewogICAgICAgIGxldMKgY2l0ecKgPcKgcG9zaXRpb24uYWRkcmVzcy5jaXR5O8KgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoMKgLy/ojrflj5bln47luILkv6Hmga8KICAgICAgICBsZXTCoHByb3ZpbmNlwqA9wqBwb3NpdGlvbi5hZGRyZXNzLnByb3ZpbmNlO8KgwqDCoMKgIC8v6I635Y+W55yB5Lu95L+h5oGvCiAgICAgICAgbGV0wqBkaXN0cmljdD1wb3NpdGlvbi5hZGRyZXNzLmRpc3RyaWN0O8KgwqDCoMKgwqAgIC8v5Y6/CiAgICAgICAgbGV0wqBzdHJlZXQ9cG9zaXRpb24uYWRkcmVzcy5zdHJlZXQ7ICAgICAgICAgICAvL+ihl+mBkwogICAgICAgIC8vIF90aGlzLkxvY2F0aW9uQ2l0ecKgPXByb3ZpbmNlK2NpdHkrZGlzdHJpY3Qrc3RyZWV0OwogICAgICAgIF90aGlzLkxvY2F0aW9uQ2l0ecKgPSBjaXR5OyAgICAvL+i1i+WAvAogICAgICAgIF90aGlzLnN1Y2Nlc3PCoD3CoHRydWU7CiAgICAgIH0sIGZ1bmN0aW9uKGUpIHsKICAgICAgICBfdGhpcy5Mb2NhdGlvbkNpdHkgPSAi5a6a5L2N5aSx6LSlIgogICAgICB9LCB7cHJvdmlkZXI6ICdiYWlkdSd9KTsJCiAgICB9LAogICAgb25TZWFyY2godmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICB9LAogICAgb25DYW5jZWwoKSB7CiAgICAgIGNvbnNvbGUubG9nKCflj5bmtognKTsKICAgIH0sCiAgICBnZXRTd2lwZXIoKXsKICAgICAgdmFyIHVybD0iaG9tZS9zd2lwZXJfcGljIjsKICAgICAgKGFzeW5jICgpPT57CiAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgKICAgICAgICAgIHVybCwKICAgICAgICApOwogICAgICAgIHRoaXMuaW1hZ2VzPXJlc3VsdC5kYXRhLmRhdGE7CiAgICAgIH0pKCk7CiAgICB9LAogICAgZ2V0cG9zbGlzdCgpewogICAgICB2YXIgdXJsPSJob21lL3JlY3J1aXRfbGlzdCI7CiAgICAgIChhc3luYyAoKT0+ewogICAgICAgIHZhciByZXN1bHQ9YXdhaXQgdGhpcy5heGlvcy5nZXQoCiAgICAgICAgICB1cmwsCiAgICAgICAgKTsKICAgICAgICB0aGlzLnBvc2xpc3Q9cmVzdWx0LmRhdGEuZGF0YTsKICAgICAgfSkoKTsKICAgIH0sCiAgICBnZXRpbmZvbGFiZWwoKXsKICAgICAgdmFyIHVybD0iaG9tZS9pbmZvX2xhYmVsIjsKICAgICAgKGFzeW5jICgpPT57CiAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgKICAgICAgICAgIHVybCwKICAgICAgICApOwogICAgICAgIHRoaXMuaW5mb2xhYmVsPXJlc3VsdC5kYXRhLmRhdGE7CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmZvbGFiZWwpOwogICAgICB9KSgpOwogICAgfSwKICAgIC8vIG5hbWUoKXsKICAgIC8vICAgdGhpcy5pbmZvbGFiZWwuZm9yRWFjaCgoaXRlbSxpbmRleCkgPT4gewogICAgLy8gICAgIGlmIChpdGVtLnJsaWQgPT09IGluZGV4ICsxKSB7CiAgICAvLyAgICAgICByZXR1cm4gaXRlbTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pOwogICAgLy8gfSwKICAgIG9uTG9hZCgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKHRoaXMucmVmcmVzaGluZykgewogICAgICAgICAgdGhpcy5yZWZyZXNoaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmICh0aGlzLnBvc2xpc3QubGVuZ3RoID49IDQpIHsKICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgb25SZWZyZXNoKCkgewogICAgICAvLyDmuIXnqbrliJfooajmlbDmja4KICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOwogICAgICAvLyDph43mlrDliqDovb3mlbDmja4KICAgICAgLy8g5bCGIGxvYWRpbmcg6K6+572u5Li6IHRydWXvvIzooajnpLrlpITkuo7liqDovb3nirbmgIEKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5vbkxvYWQoKTsKICAgIH0KICB9LAp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"container-box\">\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n        <van-row class=\"home-header\" type=\"flex\" justify=\"space-between\">\n          <van-col span=\"6\" class=\"loc-box\">\n            <van-icon name=\"location\" color=\"#ffba17\" class=\"loc-icon\"/>\n            <div class=\"loc-city\">{{LocationCity}}</div>\n          </van-col>\n          <van-col span=\"18\">\n            <van-search v-model=\"value\" shape=\"round\" show-action placeholder=\"请输入搜索关键词\" @search=\"onSearch\" @cancel=\"onCancel\"/>\n          </van-col>\n        </van-row>\n        <!-- swiper 轮播图 -->\n        <van-swipe :autoplay=\"6000\">\n          <van-swipe-item v-for=\"(image, index) in images\" :key=\"index\">\n            <img :src=\"'http://127.0.0.1:8000'+image.pic_url\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n        <van-grid class=\"home-grid\" clickable :border=\"false\" :column-num=\"4\">\n          <van-grid-item icon=\"home-o\" text=\"企业直招\" to=\"/\" />\n          <van-grid-item icon=\"search\" text=\"附近兼职\" to=\"/\" />\n          <van-grid-item icon=\"home-o\" text=\"技能兼职\" to=\"/\" />\n          <van-grid-item icon=\"search\" text=\"更多\" to=\"/\" />   \n        </van-grid>\n        <div class=\"pos-title\">\n          <p>职位推荐</p>\n        </div>\n        <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n          <van-cell v-for=\"(item,index) in poslist\" :key=\"index\">\n            <div class=\"detail-first-box\">\n              <div class=\"title\" v-text=\"item.rname\"></div>\n              <div class=\"salary\" v-text=\"item.rsalary\"></div>\n            </div>\n            <div class=\"detail-second-box\">\n              <div class=\"enterprise-name\" v-text=\"item.enterprise_name\"></div>\n              <div class=\"salary-term\" v-text=\"item.salary_term\"></div>\n            </div>\n            <div class=\"detail-third-box\">\n              <div class=\"area-box\">\n                <p v-text=\"item.area\"></p>\n              </div>\n            </div>\n            <div class=\"detail-fourth-box\">\n              <div v-for=\"(item,index2) in infolabel\" :key=\"index2\">\n                <div class=\"info-label\" v-text=\"item.lcontent\"></div>\n              </div>\n            </div>\n          </van-cell>\n        </van-list>\n      </van-pull-refresh>\n    </div>\n    <Tabbar></Tabbar>\n  </div>\n</template>\n\n<script>\nimport BMap from 'BMap'\n\nexport default {\n  data(){\n    return{\n      value: '',\n      active: '',\n      LocationCity:\"正在定位\",    //给渲染层定义一个初始值\n      images: [],\n      poslist: [],\n      infolabel: [],\n      loading: false,\n      finished: false,\n      refreshing: false\n    }\n  },\n  mounted(){\n    this.city()    //触发获取城市方法\n    this.getSwiper()\n    this.getposlist()\n    this.getinfolabel()\n  },\n  methods:{\n    city(){    //定义获取城市方法\n      const geolocation = new BMap.Geolocation();\n      var _this = this\n      geolocation.getCurrentPosition(function getinfo(position){\n        let city = position.address.city;             //获取城市信息\n        let province = position.address.province;     //获取省份信息\n        let district=position.address.district;       //县\n        let street=position.address.street;           //街道\n        // _this.LocationCity =province+city+district+street;\n        _this.LocationCity = city;    //赋值\n        _this.success = true;\n      }, function(e) {\n        _this.LocationCity = \"定位失败\"\n      }, {provider: 'baidu'});\t\n    },\n    onSearch(val) {\n      console.log(val);\n    },\n    onCancel() {\n      console.log('取消');\n    },\n    getSwiper(){\n      var url=\"home/swiper_pic\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n        );\n        this.images=result.data.data;\n      })();\n    },\n    getposlist(){\n      var url=\"home/recruit_list\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n        );\n        this.poslist=result.data.data;\n      })();\n    },\n    getinfolabel(){\n      var url=\"home/info_label\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n        );\n        this.infolabel=result.data.data;\n        // console.log(this.infolabel);\n      })();\n    },\n    // name(){\n    //   this.infolabel.forEach((item,index) => {\n    //     if (item.rlid === index +1) {\n    //       return item;\n    //     }\n    //   });\n    // },\n    onLoad() {\n      setTimeout(() => {\n        if (this.refreshing) {\n          this.refreshing = false;\n        }\n        this.loading = false;\n        if (this.poslist.length >= 4) {\n          this.finished = true;\n        }\n      }, 1000);\n    },\n    onRefresh() {\n      // 清空列表数据\n      this.finished = false;\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.onLoad();\n    }\n  },\n}\n</script>\n\n<style scoped>\n.container-box{\n  padding-bottom: 50px;\n  width: 343px;\n  margin: 0 auto;\n}\n.home-header{\n  height: 50px;\n}\n.home-header .loc-box{\n  display: inline-block;\n  line-height: 50px;\n}\n.home-header .loc-box .loc-icon{\n  vertical-align: text-top;\n}\n.home-header .loc-box .loc-city{\n  font-size: 14px;\n  display: inline-block;\n  margin-left: 5px;\n}\n/* swiper */\n.van-swipe{\n  height: 147px;\n  border-radius: 8px;\n}\n.van-swipe .van-swipe-item img{\n  width: 100%;\n}\n/* 职位推荐 */\n.pos-title{\n  height: 30px;\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 30px;\n}\n.pos-title p{\n  margin: 0;\n  float: left;\n  padding-left: 10px;\n}\n.detail-first-box,.detail-second-box,.detail-third-box{\n  display: flex;\n  color: #2c3e50;\n  justify-content: space-between;\n}\n.detail-first-box div.title{\n  display: inline-block;\n  text-align: left;\n  font-size: 15px;\n  width: 245px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.detail-first-box div.salary{\n  display: inline-block;\n  text-align: right;\n  color: red;\n}\n.detail-second-box{\n  color: dimgray;\n  font-size: 13px;\n}\n.detail-third-box div.area-box{\n  background-color: lavender;\n  transform: scale(0.73);\n  margin-left: -8px;\n}\n.detail-third-box div.area-box p{\n  transform: scale(0.80);\n  color: dimgray;\n  margin: 2px 4px;\n}\n</style>\n<style>\n.home-grid{\n  justify-content: space-between;\n}\n.home-grid .van-grid-item__text{\n  color: #2c3e50;\n  font-weight: bold;\n}\n.home-grid .van-grid-item{\n  flex-basis: 20% !important;\n}\n</style>"]}]}