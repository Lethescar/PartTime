{"remainingRequest":"G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\PartTime\\App\\src\\views\\Basicinfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\PartTime\\App\\src\\views\\Basicinfo.vue","mtime":1587313576022},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBUb2FzdCB9IGZyb20gJ3ZhbnQnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCl7DQogICAgcmV0dXJuew0KICAgICAgaW5mb2xpc3Q6W10sDQogICAgICBpY29uTGlzdDogW10sDQogICAgICBpbmFtZTonJywNCiAgICAgIGlhZ2U6JycsDQogICAgICByYWRpbzogJzEnLA0KICAgICAgY2l0eWxpc3Q6IFsn5rWO5Y2XJywgJ+mdkuWymycsICfmt4TljZonLCAn5p6j5bqEJywgJ+S4nOiQpSddLA0KICAgICAgc2hvdzogZmFsc2UsDQogICAgICBjaXR5OifmtY7ljZcnLA0KICAgICAgaWVkdWNhdGlvbjonJywNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRpbmZvbGlzdCgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzaG93UG9wdXAoKSB7DQogICAgICB0aGlzLnNob3cgPSB0cnVlOw0KICAgIH0sDQogICAgb25DaGFuZ2UocGlja2VyLCB2YWx1ZSkgew0KICAgICAgdGhpcy5jaXR5PXZhbHVlOw0KICAgICAgcmV0dXJuIHRoaXMuY2l0eTsNCiAgICB9LA0KICAgIHVwZGF0ZWluZm8oKSB7DQogICAgICB2YXIgaWxkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpbGQnKTsNCiAgICAgIHZhciBpYXJlYSA9IHRoaXMuY2l0eTsNCiAgICAgIHZhciBpZWR1Y2F0aW9uPSB0aGlzLmllZHVjYXRpb247DQogICAgICBpZih0aGlzLnJhZGlvPT0xKXsNCiAgICAgICAgdmFyIGlzZXggPSAn55S3Jw0KICAgICAgfWVsc2V7DQogICAgICAgIHZhciBpc2V4ID0gJ+WlsycNCiAgICAgIH0NCiAgICAgIHZhciBpYWdlID0gdGhpcy5pYWdlOw0KICAgICAgdmFyIGluYW1lID0gdGhpcy5pbmFtZTsNCiAgICAgIHZhciB1cmw9J3VzZXIvdXBkYXRhJzsNCiAgICAgIChhc3luYyAoKT0+ew0KICAgICAgICB2YXIgcmVzdWx0PWF3YWl0IHRoaXMuYXhpb3MuZ2V0KA0KICAgICAgICAgIHVybCwNCiAgICAgICAgICB7DQogICAgICAgICAgICBwYXJhbXM6DQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGlhcmVhOmlhcmVhLA0KICAgICAgICAgICAgICBpbGQ6aWxkLA0KICAgICAgICAgICAgICBpc2V4OmlzZXgsDQogICAgICAgICAgICAgIGlhZ2U6aWFnZSwNCiAgICAgICAgICAgICAgaW5hbWU6aW5hbWUsDQogICAgICAgICAgICAgIGllZHVjYXRpb246aWVkdWNhdGlvbg0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmNvZGU9PTIwMCkgew0KICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+aPkOS6pOaIkOWKnycpOw0KICAgICAgICB9DQogICAgICB9KSgpOw0KICAgIH0sDQogICAgZ2V0aW5mb2xpc3QoKXsNCiAgICAgIHZhciBpbGQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lsZCcpOw0KICAgICAgdmFyIHVybD0idXNlci9pbmZvbGlzdCI7DQogICAgICAoYXN5bmMgKCk9PnsNCiAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICB1cmwsDQogICAgICAgICAge3BhcmFtczp7aWxkOmlsZH19DQogICAgICAgICk7DQogICAgICAgIHRoaXMuaW5mb2xpc3Q9cmVzdWx0LmRhdGFbMF07DQogICAgICAgIHRoaXMuaW5hbWUgPSB0aGlzLmluZm9saXN0LmluYW1lOw0KICAgICAgICB0aGlzLmlhZ2UgPSB0aGlzLmluZm9saXN0LmlhZ2U7DQogICAgICAgIHRoaXMuaWVkdWNhdGlvbiA9IHRoaXMuaW5mb2xpc3QuaWVkdWNhdGlvbjsNCiAgICAgICAgdGhpcy5pYXJlYSA9IHRoaXMuaW5mb2xpc3QuaWFyZWE7DQogICAgICAgIHRoaXMuaXNleCA9IHRoaXMuaW5mb2xpc3QuaXNleDsNCiAgICAgICAgaWYodGhpcy5pc2V4PT0n55S3Jyl7DQogICAgICAgICAgdGhpcy5yYWRpbyA9ICcxJzsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgdGhpcy5yYWRpbyA9ICcyJzsNCiAgICAgICAgfQ0KICAgICAgfSkoKTsNCiAgICB9LA0KICAgIGJlZm9yZVJlYWQoZmlsZSxkZXRhaWwpIHsNCiAgICAgIGlmIChmaWxlLnR5cGUgIT09ICdpbWFnZS9wbmcnKSB7DQogICAgICAgIFRvYXN0KCfor7fkuIrkvKAgcG5nIOagvOW8j+WbvueJhycpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBjb25zb2xlLmxvZyhmaWxlLGRldGFpbCkNCiAgICAgIGlmKGZpbGUubmFtZSl7DQogICAgICAgIHZhciBoZWFkX2ljb24gPWAvaW1hZ2VzLyR7ZmlsZS5uYW1lfWA7DQogICAgICAgIHZhciBpbGQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lsZCcpOw0KICAgICAgICB2YXIgdXJsPSd1c2VyL2hlYWRpY29uJzsNCiAgICAgICAgKGFzeW5jICgpPT57DQogICAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgNCiAgICAgICAgICAgIHVybCwNCiAgICAgICAgICAgIHtwYXJhbXM6e2hlYWRfaWNvbjpoZWFkX2ljb24saWxkOmlsZH19DQogICAgICAgICAgKTsNCiAgICAgICAgICBpZiAocmVzdWx0LmRhdGEuY29kZT09MjAwKSB7DQogICAgICAgICAgICBUb2FzdC5zdWNjZXNzKCfkuIrkvKDmiJDlip8nKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pKCk7DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIHN1Ym1pdCgpew0KDQogICAgfQ0KICB9LA0KDQp9DQo="},{"version":3,"sources":["Basicinfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"Basicinfo.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"head-box\">\r\n      <a href=\"javascript:history.go(-1);\">\r\n        <van-icon name=\"arrow-left\" class=\"next\"/>\r\n      </a>\r\n      <div class=\"head-title\">基本信息</div>\r\n    </div>\r\n    <div class=\"part-one\">\r\n      <div class=\"box\">\r\n        <div>简历头像</div>\r\n        <div class=\"headerimg\" :style=\"infolist.head_icon==null ? 'background-color: darkgrey;' : {backgroundImage:'url('+'http://127.0.0.1:8000'+infolist.head_icon+')'}\"></div>\r\n        <van-uploader :before-read=\"beforeRead\" :max-count=\"1\">\r\n          <van-button color=\"linear-gradient(to right, rgb(255, 200, 75), rgb(246, 73, 153))\">上传</van-button>\r\n        </van-uploader>\r\n      </div>\r\n    </div>\r\n    <div class=\"part-two\">\r\n      <div class=\"name\">\r\n        <div class=\"phone\">\r\n          <input class=\"phone-input\" v-model=\"iname\" placeholder=\"请输入姓名\">\r\n          <!-- <input class=\"phone-input\" v-show=\"infolist.iname!=null\" v-model=\"iname\"> -->\r\n        </div>\r\n        <div class=\"age\">\r\n          <input class=\"phone-input\" v-model=\"iage\" placeholder=\"请输入年龄\">\r\n        </div>\r\n        <div class=\"education\">\r\n          <input class=\"phone-input\" v-model=\"ieducation\" placeholder=\"请输入学历\">\r\n        </div>\r\n        <div class=\"sex\">\r\n          <div>性别</div>\r\n          <van-radio-group v-model=\"radio\" direction=\"horizontal\">\r\n            <van-radio name=\"1\" checked-color=\"orange\">男</van-radio>\r\n            <van-radio name=\"2\" checked-color=\"orange\">女</van-radio>\r\n          </van-radio-group>\r\n        </div>\r\n        <div class=\"city\">\r\n          <van-cell is-link @click=\"showPopup\">所在城市</van-cell>\r\n          <div v-text=\"city\" style=\"position: absolute;top: 10px;right: 34px;color: #323233;\"></div>\r\n          <van-popup v-model=\"show\" position=\"bottom\" :style=\"{ height: '30%' }\">\r\n            <van-picker :columns=\"citylist\" @change=\"onChange\" />\r\n          </van-popup>\r\n        </div>\r\n        <van-button color=\"linear-gradient(to right, rgb(255, 200, 75), rgb(246, 73, 153))\" size=\"large\" @click=\"updateinfo\">提交</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Toast } from 'vant';\r\nexport default {\r\n  data(){\r\n    return{\r\n      infolist:[],\r\n      iconList: [],\r\n      iname:'',\r\n      iage:'',\r\n      radio: '1',\r\n      citylist: ['济南', '青岛', '淄博', '枣庄', '东营'],\r\n      show: false,\r\n      city:'济南',\r\n      ieducation:'',\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getinfolist()\r\n  },\r\n  methods: {\r\n    showPopup() {\r\n      this.show = true;\r\n    },\r\n    onChange(picker, value) {\r\n      this.city=value;\r\n      return this.city;\r\n    },\r\n    updateinfo() {\r\n      var ild=localStorage.getItem('ild');\r\n      var iarea = this.city;\r\n      var ieducation= this.ieducation;\r\n      if(this.radio==1){\r\n        var isex = '男'\r\n      }else{\r\n        var isex = '女'\r\n      }\r\n      var iage = this.iage;\r\n      var iname = this.iname;\r\n      var url='user/updata';\r\n      (async ()=>{\r\n        var result=await this.axios.get(\r\n          url,\r\n          {\r\n            params:\r\n            {\r\n              iarea:iarea,\r\n              ild:ild,\r\n              isex:isex,\r\n              iage:iage,\r\n              iname:iname,\r\n              ieducation:ieducation\r\n            }\r\n          }\r\n        );\r\n        if (result.data.code==200) {\r\n          Toast.success('提交成功');\r\n        }\r\n      })();\r\n    },\r\n    getinfolist(){\r\n      var ild=localStorage.getItem('ild');\r\n      var url=\"user/infolist\";\r\n      (async ()=>{\r\n        var result=await this.axios.get(\r\n          url,\r\n          {params:{ild:ild}}\r\n        );\r\n        this.infolist=result.data[0];\r\n        this.iname = this.infolist.iname;\r\n        this.iage = this.infolist.iage;\r\n        this.ieducation = this.infolist.ieducation;\r\n        this.iarea = this.infolist.iarea;\r\n        this.isex = this.infolist.isex;\r\n        if(this.isex=='男'){\r\n          this.radio = '1';\r\n        }else{\r\n          this.radio = '2';\r\n        }\r\n      })();\r\n    },\r\n    beforeRead(file,detail) {\r\n      if (file.type !== 'image/png') {\r\n        Toast('请上传 png 格式图片');\r\n        return false;\r\n      }\r\n      console.log(file,detail)\r\n      if(file.name){\r\n        var head_icon =`/images/${file.name}`;\r\n        var ild=localStorage.getItem('ild');\r\n        var url='user/headicon';\r\n        (async ()=>{\r\n          var result=await this.axios.get(\r\n            url,\r\n            {params:{head_icon:head_icon,ild:ild}}\r\n          );\r\n          if (result.data.code==200) {\r\n            Toast.success('上传成功');\r\n          }\r\n        })();\r\n      }\r\n      return true;\r\n    },\r\n    submit(){\r\n\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n<style scoped>\r\n.container{\r\n  color: #828282;\r\n}\r\n.next{\r\n  width: 2.5rem;\r\n  text-align: left;\r\n  color:orange;\r\n  position: absolute;\r\n  top:1.2rem;\r\n  left: 1rem;\r\n}\r\n.head-title{\r\n  margin-top: 1.2rem;\r\n}\r\n.headerimg{\r\n  width: 60px;\r\n  height: 60px;\r\n  border-radius: 50%;\r\n  background-size: cover;\r\n  background-repeat: no-repeat;\r\n}\r\n.part-one .box{\r\n  display: flex;\r\n  line-height: 60px;\r\n  justify-content: space-between;\r\n  padding: 15px 10px 10px 10px;\r\n}\r\n.part-two .sex{\r\n  padding: 0 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.part-two .city{\r\n  position: relative;\r\n}\r\n.phone,.age,.sex,.city,.education{\r\n  border-bottom: 1px solid #eee;\r\n  margin-bottom: 15px;\r\n}\r\n.sex{\r\n  height: 45px;\r\n  padding: 0 10px;\r\n  line-height: 45px;\r\n}\r\n</style>\r\n<style>\r\n.part-one .box .van-button{\r\n  height: 32px;\r\n  line-height: 32px;\r\n}\r\n.part-two .city .van-cell{\r\n  padding: 10px 10px;\r\n  font-size: 16px;\r\n}\r\n.part-two .city .van-cell__value--alone{\r\n  color: #828282;\r\n}\r\n</style>"]}]}