{"remainingRequest":"G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\PartTime\\App\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\PartTime\\App\\src\\views\\Home.vue","mtime":1587016698713},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\PartTime\\App\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBCTWFwIGZyb20gJ0JNYXAnCgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICB2YWx1ZTogJycsCiAgICAgIGFjdGl2ZTogJycsCiAgICAgIExvY2F0aW9uQ2l0eToi5q2j5Zyo5a6a5L2NIiwgICAgLy/nu5nmuLLmn5PlsYLlrprkuYnkuIDkuKrliJ3lp4vlgLwKICAgICAgaW1hZ2VzOiBbXSwKICAgICAgcG9zbGlzdDogW10sCiAgICAgIGluZm9sYWJlbDogW10sCiAgICAgIGZpbHRlcmxhYmVsOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwKICAgICAgcmVmcmVzaGluZzogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQoKXsKICAgIHRoaXMuY2l0eSgpICAgIC8v6Kem5Y+R6I635Y+W5Z+O5biC5pa55rOVCiAgICB0aGlzLmdldFN3aXBlcigpCiAgICB0aGlzLmdldHBvc2xpc3QoKQogICAgdGhpcy5nZXRpbmZvbGFiZWwoKQogICAgdGhpcy5nZXRDaGVjaygpCiAgfSwKICBtZXRob2RzOnsKICAgIGdldENoZWNrKGlkKXsKICAgICAgdmFyIGZpbHRlcmxhYmVsPXRoaXMuZmlsdGVybGFiZWw7CiAgICAgIHZhciBpbmZvbGFiZWw9dGhpcy5pbmZvbGFiZWw7CiAgICAgIGZpbHRlcmxhYmVsID0gaW5mb2xhYmVsLmZpbHRlcihpdGVtPT57CiAgICAgICAgcmV0dXJuIGl0ZW0ucmxpZCA9PSBpZDsKICAgICAgfSkKICAgICAgcmV0dXJuIGZpbHRlcmxhYmVsOwogICAgfSwKICAgIGNpdHkoKXsgICAgLy/lrprkuYnojrflj5bln47luILmlrnms5UKICAgICAgY29uc3QgZ2VvbG9jYXRpb24gPSBuZXcgQk1hcC5HZW9sb2NhdGlvbigpOwogICAgICB2YXIgX3RoaXMgPSB0aGlzCiAgICAgIGdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihmdW5jdGlvbiBnZXRpbmZvKHBvc2l0aW9uKXsKICAgICAgICBsZXTCoGNpdHnCoD3CoHBvc2l0aW9uLmFkZHJlc3MuY2l0eTvCoMKgwqDCoMKgwqDCoMKgwqDCoMKgwqDCoC8v6I635Y+W5Z+O5biC5L+h5oGvCiAgICAgICAgbGV0wqBwcm92aW5jZcKgPcKgcG9zaXRpb24uYWRkcmVzcy5wcm92aW5jZTvCoMKgwqDCoCAvL+iOt+WPluecgeS7veS/oeaBrwogICAgICAgIGxldMKgZGlzdHJpY3Q9cG9zaXRpb24uYWRkcmVzcy5kaXN0cmljdDvCoMKgwqDCoMKgICAvL+WOvwogICAgICAgIGxldMKgc3RyZWV0PXBvc2l0aW9uLmFkZHJlc3Muc3RyZWV0OyAgICAgICAgICAgLy/ooZfpgZMKICAgICAgICAvLyBfdGhpcy5Mb2NhdGlvbkNpdHnCoD1wcm92aW5jZStjaXR5K2Rpc3RyaWN0K3N0cmVldDsKICAgICAgICBfdGhpcy5Mb2NhdGlvbkNpdHnCoD0gY2l0eTsgICAgLy/otYvlgLwKICAgICAgICBfdGhpcy5zdWNjZXNzwqA9wqB0cnVlOwogICAgICB9LCBmdW5jdGlvbihlKSB7CiAgICAgICAgX3RoaXMuTG9jYXRpb25DaXR5ID0gIuWumuS9jeWksei0pSIKICAgICAgfSwge3Byb3ZpZGVyOiAnYmFpZHUnfSk7CQogICAgfSwKICAgIGdldFN3aXBlcigpewogICAgICB2YXIgdXJsPSJob21lL3N3aXBlcl9waWMiOwogICAgICAoYXN5bmMgKCk9PnsKICAgICAgICB2YXIgcmVzdWx0PWF3YWl0IHRoaXMuYXhpb3MuZ2V0KAogICAgICAgICAgdXJsLAogICAgICAgICk7CiAgICAgICAgdGhpcy5pbWFnZXM9cmVzdWx0LmRhdGEuZGF0YTsKICAgICAgfSkoKTsKICAgIH0sCiAgICBnZXRwb3NsaXN0KCl7CiAgICAgIHZhciB1cmw9ImhvbWUvcmVjcnVpdF9saXN0IjsKICAgICAgKGFzeW5jICgpPT57CiAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgKICAgICAgICAgIHVybCwKICAgICAgICAgIHtwYXJhbXM6e3R5cGVpZDonMjAwJ319CiAgICAgICAgKTsKICAgICAgICB0aGlzLnBvc2xpc3Q9cmVzdWx0LmRhdGEuZGF0YTsKICAgICAgfSkoKTsKICAgIH0sCiAgICBnZXRpbmZvbGFiZWwoKXsKICAgICAgdmFyIHVybD0iaG9tZS9pbmZvX2xhYmVsIjsKICAgICAgKGFzeW5jICgpPT57CiAgICAgICAgdmFyIHJlc3VsdD1hd2FpdCB0aGlzLmF4aW9zLmdldCgKICAgICAgICAgIHVybCwKICAgICAgICApOwogICAgICAgIHRoaXMuaW5mb2xhYmVsPXJlc3VsdC5kYXRhLmRhdGE7CiAgICAgIH0pKCk7CiAgICB9LAogICAgb25Mb2FkKCkgewogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBpZiAodGhpcy5yZWZyZXNoaW5nKSB7CiAgICAgICAgICB0aGlzLnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHRoaXMucG9zbGlzdC5sZW5ndGggPj0gdGhpcy5wb3NsaXN0Lmxlbmd0aCkgewogICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0sCiAgICBvblJlZnJlc2goKSB7CiAgICAgIC8vIOa4heepuuWIl+ihqOaVsOaNrgogICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CiAgICAgIC8vIOmHjeaWsOWKoOi9veaVsOaNrgogICAgICAvLyDlsIYgbG9hZGluZyDorr7nva7kuLogdHJ1Ze+8jOihqOekuuWkhOS6juWKoOi9veeKtuaAgQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLm9uTG9hZCgpOwogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"container-box\">\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n        <van-row class=\"home-header\" type=\"flex\" justify=\"space-between\">\n          <van-col span=\"6\" class=\"loc-box\">\n            <van-icon name=\"location\" color=\"#ffba17\" class=\"loc-icon\"/>\n            <div class=\"loc-city\">{{LocationCity}}</div>\n          </van-col>\n          <van-col span=\"18\">\n            <router-link to=\"/search\">\n              <van-search v-model=\"value\" shape=\"round\" placeholder=\"请输入搜索关键词\"/>\n            </router-link>\n          </van-col>\n        </van-row>\n        <!-- swiper 轮播图 -->\n        <van-swipe :autoplay=\"6000\">\n          <van-swipe-item v-for=\"(image, index) in images\" :key=\"index\">\n            <img :src=\"'http://127.0.0.1:8000'+image.pic_url\" alt=\"\">\n          </van-swipe-item>\n        </van-swipe>\n        <van-grid class=\"home-grid\" clickable :border=\"false\" :column-num=\"4\">\n          <van-grid-item icon=\"home-o\" text=\"企业直招\" to=\"/\" />\n          <van-grid-item icon=\"search\" text=\"附近兼职\" to=\"/\" />\n          <van-grid-item icon=\"home-o\" text=\"技能兼职\" to=\"/\" />\n          <van-grid-item icon=\"search\" text=\"更多\" to=\"/\" />   \n        </van-grid>\n        <div class=\"pos-title\">\n          <p>职位推荐</p>\n        </div>\n        <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\n          <van-cell v-for=\"(item,index) in poslist\" :key=\"index\" :to=\"`/detail/${item.id}`\">\n            <div class=\"detail-first-box\">\n              <div class=\"title\" v-text=\"item.rname\"></div>\n              <div class=\"salary\" v-text=\"item.rsalary\"></div>\n            </div>\n            <div class=\"detail-second-box\">\n              <div class=\"enterprise-name\" v-text=\"item.enterprise_name\"></div>\n              <div class=\"salary-term\" v-text=\"item.salary_term\"></div>\n            </div>\n            <div class=\"detail-third-box\">\n              <div class=\"area-box\">\n                <p v-text=\"item.area\"></p>\n              </div>\n            </div>\n            <div class=\"detail-fourth-box\" v-if=\"item\">\n              <div v-for=\"(item2,index2) in getCheck(item.id)\" :key=\"index2\" class=\"info-label-box\">\n                <div class=\"info-label\" v-text=\"item2.lcontent\" :class=\"item2.is_bgcolor==1?'bgcolor':''\"></div>\n              </div>\n            </div>\n          </van-cell>\n        </van-list>\n      </van-pull-refresh>\n    </div>\n    <Tabbar></Tabbar>\n  </div>\n</template>\n\n<script>\nimport BMap from 'BMap'\n\nexport default {\n  data(){\n    return{\n      value: '',\n      active: '',\n      LocationCity:\"正在定位\",    //给渲染层定义一个初始值\n      images: [],\n      poslist: [],\n      infolabel: [],\n      filterlabel: [],\n      loading: false,\n      finished: false,\n      refreshing: false\n    }\n  },\n  mounted(){\n    this.city()    //触发获取城市方法\n    this.getSwiper()\n    this.getposlist()\n    this.getinfolabel()\n    this.getCheck()\n  },\n  methods:{\n    getCheck(id){\n      var filterlabel=this.filterlabel;\n      var infolabel=this.infolabel;\n      filterlabel = infolabel.filter(item=>{\n        return item.rlid == id;\n      })\n      return filterlabel;\n    },\n    city(){    //定义获取城市方法\n      const geolocation = new BMap.Geolocation();\n      var _this = this\n      geolocation.getCurrentPosition(function getinfo(position){\n        let city = position.address.city;             //获取城市信息\n        let province = position.address.province;     //获取省份信息\n        let district=position.address.district;       //县\n        let street=position.address.street;           //街道\n        // _this.LocationCity =province+city+district+street;\n        _this.LocationCity = city;    //赋值\n        _this.success = true;\n      }, function(e) {\n        _this.LocationCity = \"定位失败\"\n      }, {provider: 'baidu'});\t\n    },\n    getSwiper(){\n      var url=\"home/swiper_pic\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n        );\n        this.images=result.data.data;\n      })();\n    },\n    getposlist(){\n      var url=\"home/recruit_list\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n          {params:{typeid:'200'}}\n        );\n        this.poslist=result.data.data;\n      })();\n    },\n    getinfolabel(){\n      var url=\"home/info_label\";\n      (async ()=>{\n        var result=await this.axios.get(\n          url,\n        );\n        this.infolabel=result.data.data;\n      })();\n    },\n    onLoad() {\n      setTimeout(() => {\n        if (this.refreshing) {\n          this.refreshing = false;\n        }\n        this.loading = false;\n        if (this.poslist.length >= this.poslist.length) {\n          this.finished = true;\n        }\n      }, 1000);\n    },\n    onRefresh() {\n      // 清空列表数据\n      this.finished = false;\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.onLoad();\n    },\n  },\n}\n</script>\n\n<style scoped>\n.container-box{\n  padding-bottom: 50px;\n  width: 100%;\n  margin: 0 auto;\n}\n.home-header{\n  height: 50px;\n}\n.home-header .loc-box{\n  display: inline-block;\n  line-height: 50px;\n}\n.home-header .loc-box .loc-icon{\n  vertical-align: text-top;\n}\n.home-header .loc-box .loc-city{\n  font-size: 14px;\n  display: inline-block;\n  margin-left: 5px;\n}\n.van-search{\n  padding: 10px 2px;\n}\n/* swiper */\n.van-swipe{\n  height: 147px;\n  border-radius: 8px;\n}\n.van-swipe .van-swipe-item img{\n  width: 100%;\n}\n/* 职位推荐 */\n.pos-title{\n  height: 30px;\n  font-size: 13px;\n  font-weight: bold;\n  line-height: 30px;\n}\n.pos-title p{\n  margin: 0;\n  float: left;\n  padding-left: 10px;\n}\n.detail-first-box,.detail-second-box,.detail-third-box{\n  display: flex;\n  color: #2c3e50;\n  justify-content: space-between;\n}\n.detail-first-box div.title{\n  display: inline-block;\n  text-align: left;\n  font-size: 15px;\n  width: 245px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.detail-first-box div.salary{\n  display: inline-block;\n  text-align: right;\n  color: red;\n}\n.detail-second-box{\n  color: dimgray;\n  font-size: 13px;\n}\n.detail-third-box div.area-box{\n  background-color: lavender;\n  transform: scale(0.83);\n  margin-left: -5px;\n}\n.detail-third-box div.area-box p{\n  transform: scale(0.90);\n  color: dimgray;\n  margin: 2px 4px;\n}\n.detail-fourth-box{\n  font-size: 13PX;\n}\n.detail-fourth-box .info-label-box,.info-label{\n  display: inline;\n}\n.detail-fourth-box .info-label-box{\n  margin-right: 5px;\n}\n.detail-fourth-box .info-label{\n  padding: 2px;\n  color: red;\n  border: 1px solid red;\n  border-radius: 2px;\n}\n.bgcolor{\n  border: unset !important;\n  background-image: linear-gradient(to right, rgb(255, 224, 0), rgba(253, 98, 44, 0.73));\n}\n</style>\n<style>\n.home-grid{\n  justify-content: space-between;\n}\n.home-grid .van-grid-item__text{\n  color: #2c3e50;\n  font-weight: bold;\n}\n.home-grid .van-grid-item{\n  flex-basis: 20% !important;\n}\n</style>"]}]}